<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="generator" content="goffre"/>
        <meta name="version" content="4e389c6">
        <meta name="viewport" content="width=device-width,minimum-scale=1.0,initial-scale=1,user-scalable=yes"/>
        <title>Documentation</title>
        <meta name="description" content="## &#x60;async load(options)&#x60;" />
        <link rel="stylesheet" href="https://moonwave99.github.io/goffre/bundle.css"></link>
    </head>
    <body class="page-docs">
        <nav>
            <ul>
                <li>
                    <a href="https://moonwave99.github.io/goffre/" class="index">Home</a>            
                </li>
                <li>
                    <a href="https://moonwave99.github.io/goffre/docs" class="docs current">Docs (v0.0.3)</a>            
                </li>
                <li>
                    <a href="https://github.com/moonwave99/goffre" target="_blank" rel="noopener noreferrer">See on Github</a>            
                </li>
            </ul>
            <button aria-label="Toggle navigation"></button>
        </nav>        <div class="container">
            <aside>
                <ul></ul>
            </aside>
            <main>
            <section class="page text">
    <header>
        <h1>
            <span>Goffre</span>
            <span>Documentation</span>
        </h1>
    </header>
    <section class="text-body">
        <h2 id="async-loadoptions"><code>async load(options)</code></h2>
<p>Loads data from a folder, returns structured information gathered from <code>.md</code> and <code>.json</code> files.</p>
<pre><code class="language-js">const { json, pages } = await load();
</code></pre>
<ul>
<li><code>json</code> is an object with <strong>key = filename</strong> and <strong>value = filename contents</strong></li>
<li><code>pages</code> is an array of parsed markdown files, each with front matter (destructured at root level) merged with page body inside the <code>content</code> key</li>
</ul>
<p>For instance the following folder:</p>
<pre><code>data/
┣ blog/
┃ ┣ 01-this-is-a-blog-post.md
┃ ┗ 02-this-is-another-blog-post.md
┣ about.md
┣ contact.md
┣ config.json
┗ labels.json
</code></pre>
<p>Will be parsed as:</p>
<pre><code class="language-js">{
    json: {
        config: { ... },
        labels: { ... }
    },
    pages: [
        {
            title: &#39;This is a blog post&#39;,
            slug: &quot;blog/01-this-is-a-blog-post&quot;,
            content: ...
        },
        {
            title: &#39;This is another blog post&#39;,
            slug: &quot;blog/02-this-is-another-blog-post&quot;,
            content: ...
        },
        {
            title: &#39;About&#39;,
            slug: &quot;about&quot;,
            content: ...
        },
        {
            title: &#39;Contact&#39;,
            slug: &quot;about&quot;,
            content: ...
        },
    ]
}
</code></pre>
<h3 id="available-options">Available options</h3>
<h4 id="datapath"><code>dataPath</code></h4>
<p>Path where to look for data.</p>
<p><strong>Default</strong>: <code>process.cwd() + /data</code>.</p>
<h2 id="async-renderoptions"><code>async render(options)</code></h2>
<p>Generates the <code>.html</code> files.</p>
<h3 id="available-options-1">Available options</h3>
<h4 id="pages"><code>pages</code></h4>
<p>An array of pages, ideally parsed via the <code>load()</code> method.</p>
<p>The only constraint is to contain a unique <code>slug</code> key, like:</p>
<pre><code class="language-js">[
    {
        title: &#39;This is a blog post&#39;,
        slug: &quot;blog/01-this-is-a-blog-post&quot;,
        content: ...
    },
    {
        title: &#39;This is another blog post&#39;,
        slug: &quot;blog/02-this-is-another-blog-post&quot;,
        content: ...
    },
    ...
]
</code></pre>
<h4 id="viewspath"><code>viewsPath</code></h4>
<p>The folder containing the handlebars views.</p>
<p><strong>Default</strong>: <code>path.join(process.cwd(), &quot;src&quot;, &quot;views&quot;)</code>.</p>
<h4 id="buildpath"><code>buildPath</code></h4>
<p>The folder that will contain the HTML output.</p>
<p><strong>Default</strong>: <code>path.join(process.cwd(), &quot;dist&quot;)</code>.</p>
<h4 id="domain"><code>domain</code></h4>
<p>The website domain, used in the handlebars helpers for generating URLs.</p>
<h4 id="uglyurls"><code>uglyUrls</code></h4>
<p>If <code>true</code>, appends <code>.html</code> to generated URLs.</p>
<p><strong>Default</strong>: <code>false</code>.</p>
<h4 id="locals"><code>locals</code></h4>
<p>An object that will be merged into <code>apps.locals</code> and be available to all handlebars templates.</p>
<h4 id="markdown"><code>markdown</code></h4>
<p>Overrides the <a href="https://github.com/markedjs/marked">default markdown configuration</a>, e.g.:</p>
<pre><code class="language-js">render({
    ...
    markdown: {
        renderer: {
            image: (href, title, text) =&gt;
                `&lt;img class=&quot;lazy&quot; data-src=&quot;${href}&quot; alt=&quot;${text}&quot;/&gt;`,
        },
    }
})
</code></pre>
<h4 id="handlebars"><code>handlebars</code></h4>
<p>Contains the handlebars configurations and helpers, e.g.:</p>
<pre><code class="language-js">render({
    ...
    handlebars: {
        helpers: {
            formatDate: (date) =&gt; date.toLocaleDateString(),
        },
    }
})
</code></pre>
<h4 id="sitemap"><code>sitemap</code></h4>
<p>Contains the sitemap configuration.</p>
<p><strong>Default</strong>: <code>{ generate: false, template: &#39;sitemap&#39; }</code>.</p>

    </section>
</section>
            </main>
        </div>

        <footer>
            <p>
                &copy; 2021 <a href="https://github.com/moonwwave99">Diego Caponera</a>
                 | rev: <a href="https://github.com/moonwave99/goffre/commit/4e389c6" target="_blank" rel="noopener noreferrer"><code>4e389c6</code></a>
            </p>
        </footer>        <script src="https://moonwave99.github.io/goffre/bundle.js"></script>
    </body>
</html>